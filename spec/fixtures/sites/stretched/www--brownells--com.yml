---
site:
  name: Brownells
  domain: www.brownells.com
  read_interval: 1440
  timezone: America/Chicago
  registrations:
    session_queue:
      www.brownells.com: {}
    object_adapter:
      www.brownells.com/product_feed:
        scripts:
          - www.brownells.com/product_feed
          - globals/product_page
          - globals/validation
        schema: Listing
        xpath: //Products/Product
        attribute:
          seller_domain: [{ value: "www.brownells.com" }]
          seller_name: [{ value: "Brownells" }]
          condition: [{ value: new }]
          availability: [{ value: in_stock }]
          location: [{ value: "200 South Front Street, Montezuma, Iowa 50171" }]
          type: [{ value: RetailListing }]
          url:
            - find_by_xpath:
                xpath: .//Buy_Link
          title:
            - find_by_xpath:
                xpath: .//Product_Name
          description:
            - find_by_xpath:
                xpath: .//Long_Description
          image:
            - find_by_xpath:
                xpath: .//Image_URL
          sale_price_in_cents:
            - find_by_xpath:
                xpath: .//Sale_Price
          price_in_cents:
            - find_by_xpath:
                xpath: .//Retail_Price
          availability:
            - classify_by_xpath:
                type: out_of_stock
                xpath: .//Status
                pattern: !ruby/regexp '/^Removed/i'
          product_category1:
            - classify_by_xpath:
                type: Ammunition
                xpath: .//Category
                pattern: !ruby/regexp '/Ammunition/i'
            - classify_by_xpath:
                type: Optics
                xpath: .//Category
                pattern: !ruby/regexp '/Optics/i'
            - classify_by_xpath:
                type: Accessories
                xpath: .//Category
                pattern: !ruby/regexp '/Books|Cleaning|Gunsmith|Magazines|Reloading|Parts|Accessories/i'
  sessions:
    - queue: www.brownells.com
      session_definition: global/standard_xml_session
      object_adapters: [ www.brownells.com/product_feed ]
      urls:
        - url: http://brownells.com/product_feed
