---
site_data:
  :domain: www.ableammo.com
  :adapter:
    validation:
      retail: (raw['price'] || raw['sale_price'] || raw['stock_status']) && raw['title']
    seller_defaults:
      condition: new
      listing_type: retail
      item_location: 357 Farm to Market Road 1791  Huntsville, TX 77340
    listing_type:
    - scraper_method: classify_url_by_regexp
      arguments:
        type: retail
        regexp: !ruby/regexp '/.*/'
    title:
    - scraper_method: find_by_xpath
      arguments:
        xpath: //table//h1
    - scraper_method: schema_name
    - scraper_method: find_by_xpath
      arguments:
        xpath: //title
    description:
    - scraper_method: schema_description
    keywords:
    - scraper_method: meta_keywords
    image:
    - scraper_method: find_by_xpath
      arguments:
        xpath: .//a[contains(@href, "popupWindow")]/img/@src
        filters:
        - prefix: http://www.ableammo.com/catalog/
    - scraper_method: find_by_xpath
      arguments:
        xpath: .//a/img[contains(@src, "medium")]/@src
        filters:
        - prefix: http://www.ableammo.com/catalog/
    - scraper_method: find_by_xpath
      arguments:
        xpath: .//a/img[contains(@src, "small")]/@src
        filters:
        - prefix: http://www.ableammo.com/catalog/
    price:
    - scraper_method: find_by_xpath
      arguments:
        xpath: .//*[@itemprop="price"]
        regexp: !ruby/regexp '/\$\d[\d\,\.]+/i'
    - scraper_method: find_by_xpath
      arguments:
        xpath: //body/div[1]/table[1]/tr/td[2]/table/tr[2]/td[@class="main"]/table/tr/td[2]/div/table[1]/tr[1]/td[2]/h2
        regexp: !ruby/regexp '/\$\d[\d\,\.]+/i'
    sale_price:
    - scraper_method: find_by_xpath
      arguments:
        xpath: //span[@class="SalePrice"]
        regexp: !ruby/regexp '/\$\d[\d\,\.]+/i'
    - scraper_method: find_by_xpath
      arguments:
        xpath: //h2[@itemprop="price"]/span[@class="productSpecialPrice"]
        regexp: !ruby/regexp '/\$\d[\d\,\.]+/i'
    stock_status:
    - scraper_method: classify_by_xpath
      arguments:
        type: In Stock
        xpath: .//*[@itemprop="availability"]/@content
        regexp: !ruby/regexp '/in_stock/'
    - scraper_method: classify_by_xpath
      arguments:
        type: Out Of Stock
        xpath: .//*[@itemprop="availability"]/@content
        regexp: !ruby/regexp '/out_of_stock/'
    item_condition:
    - scraper_method: classify_url_by_regexp
      arguments:
        type: New
        regexp: !ruby/regexp '/conditioning|conditioner/i'
    - scraper_method: classify_url_by_regexp
      arguments:
        type: Used
        regexp: !ruby/regexp '/used|condition|like.new/i'
    category1:
    - scraper_method: classify_by_xpath
      arguments:
        xpath: //tr[@class="headerNavigation"]/td[@class="headerNavigation"][1]/a[@class="headerNavigation"][2]
        type: Guns
        regexp: !ruby/regexp '/Firearms/i'
    - scraper_method: classify_by_xpath
      arguments:
        xpath: //tr[@class="headerNavigation"]/td[@class="headerNavigation"][1]/a[@class="headerNavigation"][3]
        type: Guns
        regexp: !ruby/regexp '/Firearms/i'
    - scraper_method: classify_by_xpath
      arguments:
        xpath: //tr[@class="headerNavigation"]/td[@class="headerNavigation"][1]/a[@class="headerNavigation"][2]
        type: Ammunition
        regexp: !ruby/regexp '/Ammunition/i'
    - scraper_method: classify_by_xpath
      arguments:
        xpath: //tr[@class="headerNavigation"]/td[@class="headerNavigation"][1]/a[@class="headerNavigation"][3]
        type: Ammunition
        regexp: !ruby/regexp '/Ammunition/i'
    - scraper_method: classify_by_xpath
      arguments:
        type: Optics
        xpath: //tr[@class="headerNavigation"]/td[@class="headerNavigation"][1]/a[@class="headerNavigation"][2]
        regexp: !ruby/regexp '/Scopes|Optics/i'
    - scraper_method: classify_by_xpath
      arguments:
        type: Optics
        xpath: //tr[@class="headerNavigation"]/td[@class="headerNavigation"][1]/a[@class="headerNavigation"][3]
        regexp: !ruby/regexp '/Scopes|Optics/i'
    - scraper_method: classify_by_xpath
      arguments:
        type: Accessories
        xpath: //tr[@class='headerNavigation']/td[@class='headerNavigation']
        regexp: !ruby/regexp '/Choke Tubes|Gun Accessories|Reloading|Shooting Supplies/i'
    not_found:
    - scraper_method: find_by_xpath
      arguments:
        xpath: //body/div[1]/table[1]/tr/td[2]/table/tr[2]/td/h2/font
        regexp: !ruby/regexp '/Product NOT Found/'
    - scraper_method: find_by_xpath
      arguments:
        xpath: //body/table[4]/tr/td[2]/table/tr[1]/td/table/tr/td[@class="pageHeading"][1]
        regexp: !ruby/regexp '/Read What Others Are Saying/'
  :service_options:
    compressed_links:
      http://www.ableammo.com/catalog/all-products.php?page=PAGENUM&instock=1&max=200&sort=5a:
        start_at_page: 1
        stop_at_page: 65
        link_xpaths:
        - //td[@class='productListing-data2']/table//td[@class='main']//td[@class='main']//a/@href
  :rate_limits:
    off_peak:
      start: '23:00'
      duration: 7
      rate: 2
    peak:
      start: '06:01'
      duration: 17
      rate: 4
  :name: Able Ammo
  :engine: www.ironsights.com
  :read_with: RefreshLinksWorker
  :size:
  :active: true
  :read_interval: 1440
