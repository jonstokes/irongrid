---
site_data:
  :domain: www.gunsamerica.com
  :adapter:
    seller_defaults:
      listing_type: classified
      timezone: Eastern Time (US & Canada)
    validation:
      auction: (raw['current_bid'] || raw['minimum_bid'] || raw['buy_now_price']) && raw['title']
      classified: raw['title'] && raw['item_location'] && raw['price']
    title:
    - scraper_method: find_by_xpath
      arguments:
        xpath: //h1[contains(@id,'_Title')]
    description:
    - scraper_method: find_by_xpath
      arguments:
        xpath: //span[contains(@id,'_Description')]
    - scraper_method: meta_description
    keywords:
    - scraper_method: meta_keywords
    image:
    - scraper_method: find_by_xpath
      arguments:
        xpath: //img[contains(@id,'_MainPicture1')]/@src
        filters:
        - prefix: http://www.gunsamerica.com
    price:
    - scraper_method: find_by_xpath
      arguments:
        xpath: //span[contains(@id,"_lblCurrentPriceTop")]
        regexp: !ruby/regexp '/\$\d[\d\,\.]+/i'
    item_condition:
    - scraper_method: classify_by_xpath
      arguments:
        type: Used
        xpath: //span[contains(@id,"_Condition")]
        regexp: !ruby/regexp '/used/i'
    - scraper_method: classify_by_xpath
      arguments:
        type: New
        xpath: //span[contains(@id,"_Condition")]
        regexp: !ruby/regexp '/new|NIB|Never fired/i'
    item_location:
    - scraper_method: find_by_xpath
      arguments:
        xpath: //span[contains(@id,"ItemLocation")]
    item_sold:
    - scraper_method: find_by_xpath
      arguments:
        xpath: //span[contains(@id,"_lblListingStatus")]
        regexp: !ruby/regexp '/has expired/'
    - scraper_method: find_by_xpath
      arguments:
        xpath: //span[contains(@id,"_lblListingStatus")]
        regexp: !ruby/regexp '/has been sold/'
    - scraper_method: find_by_xpath
      arguments:
        xpath: //span[contains(@id,"MainContent_lblFeedback")]
        regexp: !ruby/regexp '/That Listing ID is not valid/i'
    listing_type:
    - scraper_method: classify_by_xpath
      arguments:
        type: auction
        xpath: //span[contains(@id,"_lblListingType")]
        regexp: !ruby/regexp '/Auction/'
    - scraper_method: classify_by_xpath
      arguments:
        type: classified
        xpath: //span[contains(@id,"_lblListingType")]
        regexp: !ruby/regexp '/Classified/'
    current_bid:
    - scraper_method: find_by_xpath
      arguments:
        xpath: //span[contains(@id,"_lblCurrentPriceTop")]
        regexp: !ruby/regexp '/\$\d[\d\,\.]+/i'
    minimum_bid:
    - scraper_method: find_by_xpath
      arguments:
        xpath: //span[contains(@id,"_lblMinimumBidTop")]
        regexp: !ruby/regexp '/\$\d[\d\,\.]+/i'
    buy_now_price:
    - scraper_method: find_by_xpath
      arguments:
        xpath: //span[contains(@id,"_BuyItNow")]
        regexp: !ruby/regexp '/\$\d[\d\,\.]+/i'
    auction_ends:
    - scraper_method: find_by_xpath
      arguments:
        xpath: //span[contains(@id,"ListingEnds")]
    category1:
    - scraper_method: classify_by_xpath
      arguments:
        type: Accessories
        xpath: //span[contains(@id,"_lblTopBreadcrumb")]/a[@class="crumbs"][2]
        regexp: !ruby/regexp '/Parts|Barrels|Accessories|Lights|Magazines|Safes|Tools|Supply|Grips|Holsters|Equipment|Paintball|Reloading|Targets/i'
    - scraper_method: classify_by_xpath
      arguments:
        type: Ammunition
        xpath: //span[contains(@id,"_lblTopBreadcrumb")]/a[@class="crumbs"][2]
        regexp: !ruby/regexp '/Ammunition/i'
    - scraper_method: classify_by_xpath
      arguments:
        type: Optics
        xpath: //span[contains(@id,"_lblTopBreadcrumb")]/a[@class="crumbs"][2]
        regexp: !ruby/regexp '/Focal|Optics|Scope|Mounts|Night Vision|oculars|Rangefinders/i'
    - scraper_method: classify_by_xpath
      arguments:
        type: Guns
        xpath: //span[contains(@id,"_lblTopBreadcrumb")]/a[@class="crumbs"][2]
        regexp: !ruby/regexp '/Guns|Rifles|Pistols|Revolver|Muzzleloaders/i'
  :link_sources:
    seed_links:
      http://www.gunsamerica.com/GunsAmerica.xml:
        link_xpaths:
        - '//item/link'
  :rate_limits:
    off_peak:
      start: '23:00'
      duration: 7
      rate: 2
    peak:
      start: '06:01'
      duration: 17
      rate: 2
  :name: Guns America
  :engine: www.ironsights.com
  :read_with: CreateLinksWorker
  :active: true
  :read_interval: 3600
