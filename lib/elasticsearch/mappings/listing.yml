---
listing:
  properties:
    digest:
      type: string
      index: not_analyzed
    purchase_url:
      type: string
      index: not_analyzed
    url:
      type: string
      index: not_analyzed
    type:
      type: string
      index: not_analyzed
    title:
      type: string
      boost: 5
    keywords:
      type: string
      boost: 2
    description:
      type: string
      boost: :4
    condition:
      type: string
      index: not_analyzed
    auction_ends:
      type: date
    created_at:
      type: date
    updated_at:
      type: date
    image:
      properties:
        source:
          type: string
          index: not_analyzed
        cdn:
          type: string
          index: not_analyzed
    location:
      properties:
        location:
          type: string
          index: not_analyzed
        city:
          type: string
          index: not_analyzed
        state:
          type: string,
          index: not_analyzed
        state_code:
          type: string
          index: not_analyzed
        country:
          type: string
          index: not_analyzed
        country_code:
          type: string
          index: not_analyzed
        zip_code:
          type: string
          index: not_analyzed
        postal_code:
          type: string
          index: not_analyzed
        coordinates:
          type: geo_point
          lat_lon: true
    discount:
      properties:
        discount:
          type: integer
        with_shipping:
          type: integer
        percent:
          properties:
            percent:
              type: float
            with_shipping:
              type: float
    shipping_cost:
      properties:
        shipping_cost:
          type: integer
    price:
      properties:
        on_request: boolean
        current:
          properties:
            current:
              type: integer
            with_shipping:
              type: integer
        list:
          properties:
            list:
              type: integer
            with_shipping:
              type: integer
        sale:
          properties:
            sale:
              type: integer
            with_shipping:
              type: integer
        buy_now:
          properties:
            buy_now:
              type: integer
        current_bid:
          properties:
            current_bid:
              type: integer
        minimum_bid:
          properties:
            minimum_bid:
              type: integer
        reserve:
          properties:
            reserve:
              type: integer
            met:
              type: boolean
        per_round:
          properties:
            per_round:
              type: integer
            with_shipping:
              type: integer

    # Site attributes
    seller:
      properties:
        site_name:
          type: string
          index: not_analyzed
        domain:
          type: string
          index: not_analyzed

    # Product attributes
    product: <%= Product.mapping['properties'] %>
